language: java
branches:
  only:
  - master
  - develop
install: true
jdk:
- oraclejdk8
cache:
  directories:
  - $HOME/.m2
script:
- git clone -b master https://github.com/nablarch/nablarch-ci-script.git $HOME/build-script/
  && chmod +x $HOME/build-script/travis-ci/*.sh
- $HOME/build-script/travis-ci/setup-oracle-jdk6.sh
- $HOME/build-script/travis-ci/prepare_travis_settings.sh
- $HOME/build-script/travis-ci/build-nablarch.sh -m deploy -p ci,dev-deploy
- $HOME/build-script/travis-ci/upload-test-report.sh -p dev-deploy
notifications:
  slack:
    secure: srBBxu91dpH2qX7m/GrxZiRPTq1B4wQB6UAvFYrWQlMXRBzMdiS9edjHRtbiebztIb0nUuCyB757l1xz3ilMICJ5cHJc1Dw2syuhWkyZf+xMErpjjazabkfMJYZ5ROHrTo5WWi0C2QMBiDXpkKs+AwgMc4iq2o8HfGFwlppY+kK+60PCFyCZHg7D5kGaXFXewo5nlFKxtB0XYlFBoM4CL89QdH0Ez7fvQXEiebb6sNNou8yLeI8JH1p/K1SEv63E80Nd7zbCXXAxMLid3VTkzQ4pTPYv5wDdgLW8MG6qX8YeO9KTFBwD5nbr3v5TpIuc2l4xJ5dAOe8ZFGJ0vysfqPWPooVh7NJcGyY3p8nlXD7dzXnsXBW7QMljio33Vj3boODkwH1tojGywMMrOyMvKAnuxdiu2yRHnIpgckRvUTIy3QUKWrvtQr3BjGlIzctYyFS53gJjSltW2P7SAQMbk1MKXxVA4YB3VcMP3sLAPEcxhL3jRZemGbnVeBxGq8XpaHQvpXFD7kHCrv3Ivfs6Spi4ihTPeG2qSeYpwQEql/ucaf4xtRdSXvNdX9FgKJ/HPXoNgXNahjtyPnbhv/aEXtecVmhUrCuKRsgZNkgK5TfOv8HsaguCykNdTGJ/PyMes/hgRCIpE8syVeBVSn7Y/0exvKTg3B+y9s8tgRT0PQc=
