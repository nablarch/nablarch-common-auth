language: java
branches:
  only:
  - master
  - develop
before_install:
- chmod +x gradlew
install: true
cache:
  directories:
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/
script:
- git clone -b master https://github.com/nablarch/nablarch-ci-script.git $HOME/build-script/
  && chmod +x $HOME/build-script/travis-ci/*.sh
- $HOME/build-script/travis-ci/install-oracle-jdk6.sh
- $HOME/build-script/travis-ci/nablarch-build.sh
- $HOME/build-script/travis-ci/upload-test-report.sh
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
notifications:
  slack:
    secure: srBBxu91dpH2qX7m/GrxZiRPTq1B4wQB6UAvFYrWQlMXRBzMdiS9edjHRtbiebztIb0nUuCyB757l1xz3ilMICJ5cHJc1Dw2syuhWkyZf+xMErpjjazabkfMJYZ5ROHrTo5WWi0C2QMBiDXpkKs+AwgMc4iq2o8HfGFwlppY+kK+60PCFyCZHg7D5kGaXFXewo5nlFKxtB0XYlFBoM4CL89QdH0Ez7fvQXEiebb6sNNou8yLeI8JH1p/K1SEv63E80Nd7zbCXXAxMLid3VTkzQ4pTPYv5wDdgLW8MG6qX8YeO9KTFBwD5nbr3v5TpIuc2l4xJ5dAOe8ZFGJ0vysfqPWPooVh7NJcGyY3p8nlXD7dzXnsXBW7QMljio33Vj3boODkwH1tojGywMMrOyMvKAnuxdiu2yRHnIpgckRvUTIy3QUKWrvtQr3BjGlIzctYyFS53gJjSltW2P7SAQMbk1MKXxVA4YB3VcMP3sLAPEcxhL3jRZemGbnVeBxGq8XpaHQvpXFD7kHCrv3Ivfs6Spi4ihTPeG2qSeYpwQEql/ucaf4xtRdSXvNdX9FgKJ/HPXoNgXNahjtyPnbhv/aEXtecVmhUrCuKRsgZNkgK5TfOv8HsaguCykNdTGJ/PyMes/hgRCIpE8syVeBVSn7Y/0exvKTg3B+y9s8tgRT0PQc=
